function getObjectURL(t){var e=null;return void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e}$(function(){var t=null;$(".imodify-item").each(function(){$(this).hasClass("change-sex")||$(this).click(function(){t=$(this).find('input[type="text"]'),$(".panel-wrap").removeClass("none"),$(".sex-panel").css("bottom","-15rem"),$(".input-panel").css("bottom","0")})}),$(".panel-wrap").click(function(){$(".panel-wrap").addClass("none"),$(".input-panel").css("bottom","-7rem"),$(".sex-panel").css("bottom","-15rem")}),$(".fa-close").click(function(){$(this).prev("input").val("")}),$(".input-button").click(function(){var e=$(".input-wrap input").val();return e.trim()?(e.trim().length>=20&&alert("信息长度不能大于20"),t.val(e),t.prev().text(e),$(".input-panel").css("bottom","-7rem"),void $(".panel-wrap").addClass("none")):void alert("信息不能为空!")}),$(".change-sex").click(function(){$(".panel-wrap").removeClass("none"),$(".input-panel").css("bottom","-7rem"),$(".sex-panel").css("bottom","0")}),$(".sex-panel-type > p").each(function(t){$(this).click(function(){$(".panel-wrap").addClass("none"),$(".sex-panel").css("bottom","-15rem"),0==t?$(".change-sex input").val("1").prev().text("男"):$(".change-sex input").val("2").prev().text("女")})}),$(".portrait-modify input[type='file']").on("change",function(){var t,e=$(this).val(),n=e.substring(e.lastIndexOf(".")+1);return["jpg","png","gif","jpeg","bmp"].indexOf(n.toLowerCase())==-1?(alert("请上传图片文件！"),void $(this).val("")):(t=getObjectURL(this.files[0]),void $(".portrait-modify img").attr("src",t))})});