function getObjectURL(e){var t=null;return void 0!=window.createObjectURL?t=window.createObjectURL(e):void 0!=window.URL?t=window.URL.createObjectURL(e):void 0!=window.webkitURL&&(t=window.webkitURL.createObjectURL(e)),t}function setPickerStyle(e){var t=$(".dpicker-body").scrollTop(),i=parseInt(t/38);if(i===e)return e;var a=$(".dpicker-item");return $(a[i+1]).hasClass("empty")?i:(a=$(".dpicker-item").removeClass("active").removeClass("sub-active"),$(a[i+1]).addClass("active").prev().addClass("sub-active").next().next().addClass("sub-active"),i)}function check(){return $("input[name='name']").val().trim()?$("input[name='password']").val().trim()?$("textarea[name='intro']").val().trim()?void 0:(alert("社团简介不能为空！"),!1):(alert("口令不能为空！"),!1):(alert("社团名称不能为空！"),!1)}$(function(){var e=$(".info-mask").attr("data-status");"1"!==e&&"-1"!==e||("1"===e?$(".info-mask").text("创建成功"):$(".info-mask").text("创建失败"),$(".info-mask").removeClass("none"),setTimeout(function(){$(".info-mask").addClass("none")},1500));var t=0;$(".dpicker-body").scroll(function(){t=setPickerStyle(t)}),$(".dpicker-finish").click(function(){var e=$(".dpicker-item.active").text();$(".date-picker").css({bottom:"-17.5rem"}),$(".show-dpicker input").val(e)}),$(".dpicker-cancel").click(function(){$(".date-picker").css({bottom:"-17.5rem"})}),$(".show-dpicker").click(function(){$(".date-picker").css({bottom:0})}),$("#club-logo-set").prev("input").change(function(){var e=$(this).val(),t=e.substring(e.lastIndexOf(".")+1);if(["jpg","png","gif","jpeg","bmp"].indexOf(t.toLowerCase())==-1)return alert("请上传图片文件！"),void $(this).val("");var i=getObjectURL(this.files[0]);i&&$("#club-logo-set").attr("src",i)}),$("#upload-proof").prev("input").change(function(){var e=$(this).val(),t=e.substring(e.lastIndexOf(".")+1);if(["jpg","png","gif","jpeg","bmp"].indexOf(t.toLowerCase())==-1)return alert("请上传图片文件！"),void $(this).val("");var i=getObjectURL(this.files[0]);i&&$("#upload-proof").attr("src",i)}),$(".mark-img-button").on("change","input[type='file']",function(){var e,t=$(this).val(),i=t.substring(t.lastIndexOf(".")+1);if(["jpg","png","gif","jpeg","bmp"].indexOf(i.toLowerCase())==-1)return alert("请上传图片文件！"),void $(this).val("");if($(".mark-item-img").length>=6)return alert("最多上传6张图片"),void $(this).val("");e=getObjectURL(this.files[0]);var a=$("<div class='mark-item-img'>");a.append("<div class='mark-item-mask'>删除</div>"),$("<img>").appendTo(a).attr("src",e),a.prependTo($(".mark-publish-img")),$(this).after($("<input type='file' name='file[]'>"))}),$(".mark-publish-img").on("click",".mark-item-img",function(){for(var e=$(this),t=0;e=e.prev(".mark-item-img"),0!=e.length;)t++;confirm("确认删除？")&&($(this).remove(),$(".mark-img-button input[type='file']").eq(t).remove())}),setPickerStyle(0)});